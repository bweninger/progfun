CREATE TABLE DISCOUNT_CODE (
	DISCOUNT_CODE CHAR(1) PRIMARY KEY, RATE DECIMAL(4,2) 
);

CREATE TABLE MICRO_MARKET(
	ZIP_CODE	VARCHAR(10) PRIMARY KEY,
	RADIUS BIGINT,
	AREA_LENGTH BIGINT,
	AREA_WIDTH BIGINT
);

CREATE TABLE CUSTOMER (
	CUSTOMER_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	DISCOUNT_CODE CHAR(1),
	ZIP VARCHAR(10),
	NAME VARCHAR(30),
	ADDRESSLINE1 VARCHAR(30),
	ADDRESSLINE2 VARCHAR(30),
	CITY VARCHAR(25),
	STATE CHAR(2),
	PHONE CHAR(12),
	FAX CHAR(12),
	EMAIL VARCHAR(40),
	CREDIT_LIMIT INTEGER,
	FOREIGN KEY(DISCOUNT_CODE) REFERENCES DISCOUNT_CODE(DISCOUNT_CODE),
	FOREIGN KEY(ZIP) REFERENCES MICRO_MARKET(ZIP_CODE)
);

CREATE TABLE MANUFACTURER (
	MANUFACTURER_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	NAME VARCHAR(30),
	ADDRESSLINE1 VARCHAR(30),
	ADDRESSLINE2 VARCHAR(30),
	CITY VARCHAR(25),
	STATE CHAR(2),
	PHONE CHAR(12),
	FAX CHAR(12),
	EMAIL VARCHAR(40),
	REP VARCHAR(30)	
);

CREATE TABLE PRODUCT_CODE (
	PRODUCT_CODE CHAR(2) PRIMARY KEY,
	DISCOUNT_CODE CHAR(1),
	DESCRIPTION VARCHAR(10),
	FOREIGN KEY (DISCOUNT_CODE) REFERENCES DISCOUNT_CODE(DISCOUNT_CODE)
);

CREATE TABLE PRODUCT (
	PRODUCT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	MANUFACTURER_ID INTEGER,
	PRODUCT_CODE CHAR(2),
	PURCHASE_COST DECIMAL(12,2),
	QUANTITY_ON_HAND INTEGER,
	MARKUP DECIMAL(4,2),
	AVAILABLE VARCHAR(5),
	DESCRIPTION VARCHAR(50),
	FOREIGN KEY (MANUFACTURER_ID) REFERENCES MANUFACTURER(MANUFACTURER_ID),
	FOREIGN KEY (PRODUCT_CODE) REFERENCES PRODUCT_CODE(PRODUCT_CODE)
);

CREATE TABLE PURCHASE_ORDER (
	ORDER_NUM INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	CUSTOMER_ID INTEGER,
	PRODUCT_ID INTEGER,
	QUANTITY SMALLINT,
	SHIPPING_COST DECIMAL(12,2),
	SALES_DATE DATE,
	SHIPPING_DATE DATE,
	FREIGHT_COMPANY VARCHAR(30),
	FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID),
	FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT(PRODUCT_ID)
);

CREATE TABLE LANGUAGE (
	LANGUAGE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	NAME VARCHAR(20)
);

INSERT INTO DISCOUNT_CODE (DISCOUNT_CODE, RATE) 
	VALUES ('H', 16.00);
INSERT INTO DISCOUNT_CODE (DISCOUNT_CODE, RATE) 
	VALUES ('M', 11.00);
INSERT INTO DISCOUNT_CODE (DISCOUNT_CODE, RATE) 
	VALUES ('L', 7.00);
INSERT INTO DISCOUNT_CODE (DISCOUNT_CODE, RATE) 
	VALUES ('N', 0.00);
	
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('95051', 255.59, 689.856, 478.479);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('94043', 157.869, 385.821, 147.538);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('85638', 758.648, 328.963, 482.164);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('12347', 475.965, 385.849, 146.937);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('94401', 368.386, 285.848, 173.794);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('95035', 683.396, 472.859, 379.757);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('95117', 755.778, 547.967, 468.858);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('48128', 684.675, 475.854, 408.074);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('48124', 753.765, 487.664, 456.632);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('10095', 1987.854, 975.875, 865.681);
INSERT INTO MICRO_MARKET (ZIP_CODE, RADIUS, AREA_LENGTH, AREA_WIDTH) 
	VALUES ('10096', 1876.766, 955.666, 923.556);


INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ('N', '95117', 'Jumbo Eagle Corp', '111 E. Las Olivas Blvd', 'Suite 51', 'Fort Lauderdale', 'FL', '305-555-0188', '305-555-0189', 'jumboeagle@example.com', 100000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ('M', '95035', 'New Enterprises', '9754 Main Street', 'P.O. Box 567', 'Miami', 'FL', '305-555-0148', '305-555-0149', 'www.new.example.com', 50000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'M', '85638', 'Wren Computers', '8989 Red Albatross Drive', 'Suite 9897', 'Houston', 'TX', '214-555-0133', '214-555-0134', 'www.wrencomp.example.com', 25000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ('L', '12347', 'Small Bill Company', '8585 South Upper Murray Drive', 'P.O. Box 456', 'Alanta', 'GA', '555-555-0175', '555-555-0176', 'www.smallbill.example.com', 90000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'H', '94401', 'Bob Hosting Corp.', '65653 Lake Road', 'Suite 2323', 'San Mateo', 'CA', '650-555-0160', '650-555-0161', 'www.bobhostcorp.example.com', 65000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'L', '95035', 'Early CentralComp', '829 E Flex Drive', 'Suite 853', 'San Jose', 'CA', '408-555-0157', '408-555-0150', 'www.centralcomp.example.com', 26500);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'L', '95117', 'John Valley Computers', '4381 Kelly Valley Ave', 'Suite 77', 'Santa Clara', 'CA', '408-555-0169', '408-555-0167', 'www.johnvalley.example.com', 70000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'N', '94401', 'Big Network Systems', '456 444th Street', 'Suite 45', 'Redwood City', 'CA', '650-555-0181', '650-555-0180', 'www.bignet.example.com', 25000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'L', '48128', 'West Valley Inc.', '88 Northsouth Drive', 'Building C', 'Dearborn', 'MI', '313-555-0172', '313-555-0171', 'www.westv.example.com', 100000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'H', '48128', 'Zed Motor Co', '2267 NE Michigan Ave', 'Building 21', 'Dearborn', 'MI', '313-555-0151', '313-555-0152', 'www.parts@ford.example.com', 5000000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'N', '48124', 'Big Car Parts', '52963 Notouter Dr', 'Suite 35', 'Detroit', 'MI', '313-555-0144', '313-555-0145', 'www.bparts.example.com', 50000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'L', '10095', 'Old Media Productions', '4400 527th Street', 'Suite 562', 'New York', 'NY', '212-555-0110', '212-555-0111', 'www.oldmedia.example.com', 10000);
INSERT INTO CUSTOMER (DISCOUNT_CODE, ZIP, NAME, ADDRESSLINE1, ADDRESSLINE2, CITY, STATE, PHONE, FAX, EMAIL, CREDIT_LIMIT) 
	VALUES ( 'M', '10096', 'Yankee Computer Repair Ltd', '9653 211th Ave', 'Floor 4', 'New York', 'NY', '212-555-0191', '212-555-0197', 'www.nycompltd@repair.example.com', 25000);


